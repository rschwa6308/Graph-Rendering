from Render import *
from Graphs import Graph

from random import random


# test_graph = Graph(
#     [1, 2, 3, 4, 5],
#     [(1, 2, 1), (2, 3, 1), (3, 4, 1), (3, 5, 1), (1, 4, 1)]
# )
# test_system = System.from_graph(test_graph)


# test_graph = Graph.complete_graph(6)
# test_system = System.from_graph(test_graph, spring_length_function=lambda w: 2)

# run_system(test_system)


# music_subreddits_graph = Graph(
#     ['dubstep', 'metal', 'jazz', 'classical', 'trap', 'vaporwave', 'kpop'],
#     [('dubstep', 'trap', 0.05333794385252102), ('dubstep', 'vaporwave', 0.008080509726148783), ('metal', 'jazz', 0.015124003293220702), ('metal', 'classical', 0.011521354696961578), ('jazz', 'classical', 0.036549855857683), ('jazz', 'vaporwave', 0.012715953307392997), ('classical', 'vaporwave', 0.00788144449605202), ('classical', 'trap', 0.0057576363688316146), ('trap', 'vaporwave', 0.013880736710186081),
# ('trap', 'kpop', 0.00494641384995878), ('vaporwave', 'kpop', 0.005670890091804969)],
#     vertex_weights=[('dubstep', 16304), ('metal', 56418), ('jazz', 33590), ('classical', 37962), ('trap', 32435), ('vaporwave', 31477), ('kpop', 69961)]
# )

# system = System.from_graph(
#     music_subreddits_graph,
#     k_function=lambda w: 2 ** (w * 50),
#     mass_function=lambda w: w / 20000
# )
# run_system(system)


# candidates_subreddits_graph = Graph(
#     ['JoeBiden', 'ElizabethW', 'SandersFor', 'BaemyKloba', 'YangForPre', 'the_donald'],
#     [('JoeBiden', 'ElizabethW', 0.05190205509400962), ('JoeBiden', 'YangForPre', 0.017636510208446442), ('ElizabethW', 'SandersFor', 0.036517381320316), ('ElizabethW', 'YangForPre', 0.031817025923322015), ('SandersFor', 'YangForPre', 0.054088774181547616), ('SandersFor', 'the_donald', 0.03731128913855287), ('BaemyKloba', 'YangForPre', 0.004462269434357668), ('BaemyKloba', 'the_donald', 0.0013517995517452787), ('YangForPre', 'the_donald', 0.019403920674720767)],
#     vertex_weights=[('JoeBiden', 8467), ('ElizabethW', 15590), ('SandersFor', 127949), ('BaemyKloba', 2212), ('YangForPre', 53388), ('the_donald', 197051)]
# )

# system = System.from_graph(
#     candidates_subreddits_graph,
#     k_function=lambda w: 2 ** (w * 50),
#     mass_function=lambda w: w**0.5 / 100
# )
# run_system(system)


politics_graph = Graph(
    ['worldpolit', 'politics', 'republican', 'democrats', 'obama', 'JoeBiden', 'ElizabethW', 'SandersFor', 'BaemyKloba', 'YangForPre', 'the_donald'],
    [('worldpolit', 'politics', 0.03729777879945979), ('worldpolit', 'SandersFor', 0.031969712903565047), ('worldpolit', 'the_donald', 0.018477991576513336), ('politics', 'SandersFor', 0.05059542561905362), ('politics', 'the_donald', 0.019278749458998448), ('politics', 'YangForPre', 0.017507183908045978), ('republican', 'democrats', 0.01270772238514174), ('republican', 'the_donald', 0.006955701612190162), ('republican', 'JoeBiden', 0.0036481556546412645), ('democrats', 'ElizabethW', 0.02046783625730994), ('democrats', 'JoeBiden', 0.018742442563482467), ('democrats', 'SandersFor', 0.012114582067177181), ('obama', 'BaemyKloba', 0.0055248618784530384), ('obama', 'JoeBiden', 0.0044444444444444444), ('obama', 'ElizabethW', 0.0019831432821021317), ('JoeBiden', 'ElizabethW', 0.030831099195710455), ('JoeBiden', 'BaemyKloba', 0.008115419296663661), ('JoeBiden', 'SandersFor', 0.0066499697728646685), ('ElizabethW', 'SandersFor', 0.03378405014388773), ('ElizabethW', 'YangForPre', 0.017729482413497283), ('ElizabethW', 'BaemyKloba', 0.00448654037886341), ('SandersFor', 'YangForPre', 0.025429920197819488), ('SandersFor', 'the_donald', 0.010861973901856276), ('SandersFor', 'BaemyKloba', 0.0009689068968554567), ('BaemyKloba', 'YangForPre', 0.001540939973383764), ('BaemyKloba', 'the_donald', 0.0003354067569215758), ('YangForPre', 'the_donald', 0.004724613293637952)],
    vertex_weights=[('worldpolit', 16791), ('politics', 127605), ('republican', 1625), ('democrats', 2519), ('obama', 279), ('JoeBiden', 851), ('ElizabethW', 3763), ('SandersFor', 22461), ('BaemyKloba', 267), ('YangForPre', 14032), ('the_donald', 32540)]
)

system = System.from_graph(
    politics_graph,
    k_function=lambda w: 2 ** (w * 50),
    mass_function=lambda w: w ** 0.2 / 3
)

system.add_animation_data([
    ('worldpolit', [(0, 0.002657786484726851), (1, 0.0018829728492556171), (2, 0.005610238289817226), (3, 0.0015896018610599284), (4, 0.004914217223526363), (5, 0.03661490575444983), (6, 0.25246314152550997), (7, 0.6603918838789807), (8, 1.0), (9, 0.4321665139801847)]),
    ('politics', [(0, 0.0020798038809181317), (1, 0.002233184571396843), (2, 0.0021698730745986303), (3, 0.0020273119866910626), (4, 0.002526522656145563), (5, 0.008645644526558183), (6, 0.10717703176634613), (7, 0.4836024400359325), (8, 0.4841698334537492), (9, 0.49338448241690464)]),
    ('republican', [(0, 0.004687300391893097), (1, 0.005010010449433103), (2, 0.015775861205771523), (3, 0.0), (4, 0.0), (5, 0.0), (6, 0.10598712387539459), (7, 0.9034321555837159), (8, 0.8887727686119357), (9, 0.6585701354016152)]),
    ('democrats', [(0, 0.0), (1, 0.0036657488004993234), (2, 0.0), (3, 0.0), (4, 0.0037470675087653074), (5, 0.022243166903588473), (6, 0.11335872833878413), (7, 0.35048284785156536), (8, 0.32799763736092474), (9, 0.3955006424499338)]),
    ('obama', [(0, 0.0), (1, 0.0), (2, 0.0), (3, 0.0), (4, 0.0), (5, 0.0), (6, 0.0), (7, 0.16891326139512944), (8, 0.11375791073549534), (9, 0.05137454033215918)]),
    ('JoeBiden', [(0, 0.0), (1, 0.0), (2, 0.0), (3, 0.0), (4, 0.0), (5, 0.0), (6, 0.004248904357069343), (7, 0.13231912258977532), (8, 0.1603309729894312), (9, 0.1251469448719943)]),
    ('ElizabethW', [(0, 0.003297135706872868), (1, 0.0), (2, 0.0), (3, 0.0), (4, 0.0011534925970613505), (5, 0.0036862738907763454), (6, 0.009440537543104689), (7, 0.04315593521984056), (8, 0.1516930900952701), (9, 0.06055554183638534)]),
    ('SandersFor', [(0, 0.0), (1, 0.0009200827998018042), (2, 0.0), (3, 0.0020256332676936084), (4, 0.0007440185834594458), (5, 0.0029339585776555683), (6, 0.016189200154812577), (7, 0.1273592132164682), (8, 0.14852441285643322), (9, 0.13510171035453036)]),
    ('BaemyKloba', [(0, 0.0), (1, 0.0), (2, 0.0), (3, 0.0), (4, 0.0), (5, 0.0), (6, 0.0), (7, 0.0), (8, 0.0), (9, 0.0)]),
    ('YangForPre', [(0, 0.0008290344717585346), (1, 0.0027382043124260687), (2, 0.004405272096448317), (3, 0.0017239439336022711), (4, 0.001684691155450561), (5, 0.0050186058406255785), (6, 0.01365771567237862), (7, 0.2680350246815556), (8, 0.3263878956183891), (9, 0.27412892820100676)]),
    ('the_donald', [(0, 0.0045254493139974435), (1, 0.004569635908580834), (2, 0.005102222099283753), (3, 0.004430765783517099), (4, 0.0060948420016159865), (5, 0.07457588222209789), (6, 0.07073081686928573), (7, 0.21460451320702514), (8, 0.12707000667262774), (9, 0.009005068862745188)])
], time_scale=2)




# system.add_animation_data([
#     ('worldpolit', [(0, 0.004088696412512509), (1, 0.0039223445733507145), (2, 0.004577368663568616), (3, 0.003496789817350876), (4, 0.20586594138669817), (5, 0.8707843808530755)]),
#     ('politics', [(0, 0.0034427836497898006), (1, 0.004540339178872124), (2, 0.0025412972651709873), (3, 0.0025067960115527114), (4, 0.11174433549132401), (5, 0.6639749997887187)]),
#     ('republican', [(0, 0.002171892801799856), (1, 0.009643421133494996), (2, 0.008952537386894985), (3, 0.0024646552697861015), (4, 0.12052447630118289), (5, 1.0)]),
#     ('democrats', [(0, 0.004942307817625919), (1, 0.001461052825512593), (2, 0.0016183382004826693), (3, 0.0016973918233160789), (4, 0.12396949623683969), (5, 0.4811637898745137)]),
#     ('obama', [(0, 0.0), (1, 0.0), (2, 0.0), (3, 0.0), (4, 0.0916259692334727), (5, 0.06843274753598726)]),
#     ('JoeBiden', [(0, 0.0), (1, 0.0), (2, 0.0), (3, 0.0), (4, 0.03497522425247003), (5, 0.22105230470167828)]),
#     ('ElizabethW', [(0, 0.0), (1, 0.0031903999402405512), (2, 0.001661202116154321), (3, 0.001043622442352557), (4, 0.01359484574936101), (5, 0.1664561093030611)]),
#     ('SandersFor', [(0, 0.0005298266380058991), (1, 0.0035167502262780344), (2, 0.0006084753902078187), (3, 0.0013198246510014527), (4, 0.02552564123631112), (5, 0.2357285406797427)]),
#     ('BaemyKloba', [(0, 0.0), (1, 0.0), (2, 0.0), (3, 0.0), (4, 0.0), (5, 0.0)]),
#     ('YangForPre', [(0, 0.0014014296938378015), (1, 0.0020577974755636194), (2, 0.0019831097791292987), (3, 0.0029386739220022507), (4, 0.0212125418281068), (5, 0.4213935683644821)]),
#     ('the_donald', [(0, 0.007543131318314497), (1, 0.006654841656201882), (2, 0.005182949372021903), (3, 0.005991317932798428), (4, 0.08104636009156642), (5, 0.19564569508921723)])
# ], time_scale=3)




# def random_points(n):
#     return [(i, random()) for i in range(n)]

# n = 5
# system.add_animation_data([
#     ('worldpolit', random_points(n)),
#     ('politics', random_points(n)),
#     ('republican', random_points(n)),
#     ('democrats', random_points(n)),
#     ('obama', random_points(n)),
#     ('JoeBiden', random_points(n)),
#     ('ElizabethW', random_points(n)),
#     ('SandersFor', random_points(n)),
#     ('BaemyKloba', random_points(n)),
#     ('YangForPre', random_points(n)),
#     ('the_donald', random_points(n))
# ], time_scale=2)

run_system(system)